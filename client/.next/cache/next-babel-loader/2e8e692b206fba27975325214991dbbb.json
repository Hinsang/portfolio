{"ast":null,"code":"import React, { useCallback, useEffect, useState } from 'react';\nimport { Form, Input, Link, Button } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Router from 'next/router';\nimport { ADD_POST_RESET, postRequestAction } from '../reducers/post';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar PostForm = function PostForm() {\n  var addPostLoading = useSelector(function (state) {\n    return state.post.addPostLoading;\n  });\n  var addPostDone = useSelector(function (state) {\n    return state.post.addPostDone;\n  });\n  var mainPosts = useSelector(function (state) {\n    return state.post.mainPosts;\n  });\n  var dispatch = useDispatch();\n\n  var _useState = useState(''),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(''),\n      description = _useState2[0],\n      setDescription = _useState2[1];\n\n  var onChangeTitle = useCallback(function (e) {\n    setTitle(e.target.value);\n  }, []);\n  var onChangeDescription = useCallback(function (e) {\n    setDescription(e.target.value);\n  }, []);\n  var onSubmitForm = useCallback(function () {\n    dispatch(postRequestAction({\n      title: title,\n      description: description\n    }));\n    console.log(title, description);\n  }, [title, description]);\n  useEffect(function () {\n    if (addPostDone) {\n      console.log(addPostDone);\n      setTimeout(0);\n      console.log(mainPosts);\n      Router.push('/Board');\n      dispatch({\n        type: ADD_POST_RESET // addPostDone 상태 리셋\n\n      });\n    }\n  }, [addPostDone]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    style: {\n      width: '1000px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      style: {\n        margin: 20\n      }\n    }), /*#__PURE__*/_jsxs(Form, {\n      onFinish: onSubmitForm,\n      style: {\n        margin: 20\n      },\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"post-title\",\n          children: \"\\uC81C\\uBAA9\"\n        }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Input, {\n          name: \"post-title\",\n          style: {\n            width: '90%'\n          },\n          value: title,\n          onChange: onChangeTitle,\n          required: true\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"post-description\",\n          children: \"\\uB0B4\\uC6A9\"\n        }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Input.TextArea, {\n          name: \"post-description\",\n          style: {\n            width: '90%',\n            height: 400\n          },\n          value: description,\n          onChange: onChangeDescription,\n          required: true\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(Button, {\n          style: {\n            marginTop: 15\n          },\n          htmlType: \"submit\",\n          loading: addPostLoading,\n          children: \"\\uAE00\\uC4F0\\uAE30\"\n        })\n      })]\n    })]\n  });\n};\n\nexport default PostForm;","map":null,"metadata":{},"sourceType":"module"}