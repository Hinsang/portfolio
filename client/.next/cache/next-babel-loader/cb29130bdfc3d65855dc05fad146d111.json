{"ast":null,"code":"import React, { useCallback, useEffect, useState } from 'react';\nimport { Form, Input, Link, Button } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Router from 'next/router';\nimport { ADD_POST_RESET, postRequestAction } from '../reducers/post';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst PostForm = () => {\n  const addPostLoading = useSelector(state => state.post.addPostLoading);\n  const addPostDone = useSelector(state => state.post.addPostDone);\n  const mainPosts = useSelector(state => state.post.mainPosts);\n  const dispatch = useDispatch();\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: description,\n    1: setDescription\n  } = useState('');\n  const onChangeTitle = useCallback(e => {\n    setTitle(e.target.value);\n  }, []);\n  const onChangeDescription = useCallback(e => {\n    setDescription(e.target.value);\n  }, []);\n  const onSubmitForm = useCallback(() => {\n    dispatch(postRequestAction({\n      title,\n      description\n    }));\n    console.log(title, description);\n  }, [title, description]);\n  useEffect(() => {\n    if (addPostDone) {\n      console.log(addPostDone);\n      setTimeout(0);\n      console.log(mainPosts);\n      Router.push('/Board');\n      dispatch({\n        type: ADD_POST_RESET // addPostDone 상태 리셋\n\n      });\n    }\n  }, [addPostDone]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    style: {\n      width: '1000px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      style: {\n        margin: 20\n      }\n    }), /*#__PURE__*/_jsxs(Form, {\n      onFinish: onSubmitForm,\n      style: {\n        margin: 20\n      },\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"post-title\",\n          children: \"\\uC81C\\uBAA9\"\n        }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Input, {\n          name: \"post-title\",\n          style: {\n            width: '90%'\n          },\n          value: title,\n          onChange: onChangeTitle,\n          required: true\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"post-description\",\n          children: \"\\uB0B4\\uC6A9\"\n        }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Input.TextArea, {\n          name: \"post-description\",\n          style: {\n            width: '90%',\n            height: 400\n          },\n          value: description,\n          onChange: onChangeDescription,\n          required: true\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(Button, {\n          style: {\n            marginTop: 15\n          },\n          htmlType: \"submit\",\n          loading: addPostLoading,\n          children: \"\\uAE00\\uC4F0\\uAE30\"\n        })\n      })]\n    })]\n  });\n};\n\nexport default PostForm;","map":null,"metadata":{},"sourceType":"module"}